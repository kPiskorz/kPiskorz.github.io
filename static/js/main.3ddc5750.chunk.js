(this["webpackJsonpsocial-media-kpiskorz"]=this["webpackJsonpsocial-media-kpiskorz"]||[]).push([[0],{10:function(e,t,a){e.exports={photo:"NewPost_photo__1A2G8",dropArea:"NewPost_dropArea__1O3wE",dragging:"NewPost_dragging__3nLpr",message:"NewPost_message__1l8t0",image:"NewPost_image__3bWx3",desc:"NewPost_desc__3Jpjx",actions:"NewPost_actions__bwDXz",error:"NewPost_error__3j1EY"}},14:function(e,t,a){e.exports={navbar:"Navbar_navbar__1-BGj"}},16:function(e,t,a){e.exports={square:"PostThumbnail_square__1a9Ty",content:"PostThumbnail_content__3qUrG",image:"PostThumbnail_image__3fc7d"}},20:function(e,t,a){e.exports={container:"App_container__21j46",content:"App_content__1rDEa"}},24:function(e,t,a){e.exports={header:"Header_header__2EjIO"}},32:function(e,t,a){e.exports=a(44)},37:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),l=(a(37),a(24)),i=a.n(l),c=function(e){return"/social-media-kPiskorz"+e};var m=function(){return r.a.createElement("header",{className:i.a.header},r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement("img",{src:c("/assets/camera.svg"),alt:"camera"}))),r.a.createElement("div",null,r.a.createElement("img",{src:c("/assets/logo.png"),alt:"logo"})),r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement("img",{src:c("/assets/message.svg"),alt:"message"}))))},u=a(7),d=a(5),p=a.n(d),f=a(2);var h=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1];return r.a.createElement("article",{className:p.a.post},r.a.createElement("header",{className:p.a.header},r.a.createElement(f.b,{className:p.a.user,to:"/profile/".concat(e.user.id)},r.a.createElement("img",{src:c(e.user.photo),alt:"User Profile"}),r.a.createElement("span",null,e.user.id," "))),r.a.createElement("section",{className:p.a.content},r.a.createElement("div",{className:p.a.imgContainer},r.a.createElement("img",{src:c(e.post.photo),alt:"Post"}))),r.a.createElement("section",{className:p.a.actions},r.a.createElement("button",null,e.likes.self?r.a.createElement("img",{src:c("/assets/unlike.svg"),alt:"Unlike Action",onClick:function(){e.onUnlike(e.post.id)}}):r.a.createElement("img",{src:c("/assets/like.svg"),alt:"Like Action",onClick:function(){e.onLike(e.post.id)}})),r.a.createElement("button",{onClick:function(e){return s(!o)}},r.a.createElement("img",{src:c("/assets/comment.svg"),alt:"Comment Action"}))),r.a.createElement("section",{className:p.a.activity},r.a.createElement("div",{className:p.a.likes.count},e.likes.count," likes"),r.a.createElement("div",{className:p.a.comments},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(f.b,{to:"/profile/".concat(e.post.userId)},e.post.userId)),r.a.createElement("span",null,e.post.desc)),e.comments.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("span",null,r.a.createElement(f.b,{to:"/profile/".concat(e.userId)},e.userId)),r.a.createElement("span",null,e.text))}))),r.a.createElement("time",{className:p.a.time},function(e){var t=Math.floor((new Date-new Date(e))/1e3),a=Math.floor(t/31556926);return a>=1?a+" years":(a=Math.floor(t/2592e3))>=1?a+" months":(a=Math.floor(t/86400))>=1?a+" days":(a=Math.floor(t/3600))>=1?a+" hours":(a=Math.floor(t/60))>=1?a+" minutes":Math.floor(t)+" seconds"}(e.post.datetime).toUpperCase()," AGO"),o&&r.a.createElement("form",{className:p.a.addComment,onSubmit:function(t){e.onComment(e.post.id,m),d(""),s(!1),t.preventDefault()}},r.a.createElement("input",{type:"text",placeholder:"Add a comment\u2026",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Post"))))},g=a(9),v=a(11);var E=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),a=0;a<1e7&&!((new Date).getTime()-t>e);a++);}(1),e?e+t:t},_={currentUserId:"judy",users:[{id:"judy",email:"judy@bc.edu",photo:"/assets/user1.png",name:"Judy Hopps",bio:"The first rabbit officer of the Zootopia Police Department. Judy is determined to make the world a better place while breaking preconceptions about other species."},{id:"nick",email:"nick@bc.edu",photo:"/assets/user2.png",name:"Nick Wilde",bio:"Nick is a charming, small-time, con artist fox with a big mouth and a lot of opinions. But when a rabbit cop outsmarts him, he finds himself actually helping her solve a mystery."},{id:"flash",email:"flash@bc.edu",photo:"/assets/user3.png",name:"Flash Slothmore",bio:"Flash is a male three-toed sloth and a supporting character in Zootopia. He works at the Department of Mammal Vehicles."}],followers:[{userId:"nick",followerId:"judy"},{userId:"judy",followerId:"nick"},{userId:"judy",followerId:"flash"}],posts:[{id:"post-1",userId:"judy",photo:"/assets/post1.png",desc:"#zootopia #excited",datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"nick",photo:"/assets/post2.png",desc:"#happy #selfie with Judy",datetime:"2020-02-06T22:45:28Z"},{id:"post-3",userId:"flash",photo:"/assets/post3.png",desc:"Don't worry I got this",datetime:"2020-02-03T22:45:28Z"},{id:"post-4",userId:"judy",photo:"/assets/post4.png",desc:"Just trying to make a #friend",datetime:"2020-02-06T22:45:28Z"},{id:"post-5",userId:"judy",photo:"/assets/post5.png",desc:"I am now the first rabbit officer!",datetime:"2020-02-06T22:45:28Z"},{id:"post-6",userId:"judy",photo:"/assets/post6.png",desc:"Having #goodtimes with folks here",datetime:"2020-02-06T22:45:28Z"}],comments:[{userId:"nick",postId:"post-1",text:"Welcome to Zootopia!",datetime:"2020-02-09T22:51:40Z"},{userId:"judy",postId:"post-1",text:"Thanks!\ud83d\ude01Looking forward to meeting you!",datetime:"2020-02-09T22:52:01Z"},{userId:"flash",postId:"post-2",text:"Looking good you two! \ud83d\udc30\ud83e\udd8a",datetime:"2020-02-09T22:54:20Z"}],likes:[{userId:"judy",postId:"post-1",datetime:"2020-02-09T22:50:40Z"},{userId:"nick",postId:"post-2",datetime:"2020-02-09T22:51:40Z"},{userId:"flash",postId:"post-2",datetime:"2020-02-09T22:54:20Z"},{userId:"judy",postId:"post-3",datetime:"2020-02-09T22:53:40Z"}]},b=Object(n.createContext)();var w=function(e){var t=Object(n.useState)((function(){return JSON.parse(window.localStorage.getItem("store"))||_})),a=Object(u.a)(t,2),o=a[0],s=a[1];return Object(n.useEffect)((function(){window.localStorage.setItem("store",JSON.stringify(o))}),[o]),r.a.createElement(b.Provider,{value:Object(v.a)({},o,{addComment:function(e,t){var a={userId:o.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};s(Object(v.a)({},o,{comments:o.comments.concat(a)}))},addLike:function(e){var t={userId:o.currentUserId,postId:e,datetime:(new Date).toISOString()};s(Object(v.a)({},o,{likes:o.likes.concat(t)}))},removeLike:function(e){s(Object(v.a)({},o,{likes:o.likes.filter((function(t){return!(t.userId===o.currentUserId&&t.postId===e)}))}))},addPost:function(e,t){var a={id:E("post"),userId:o.currentUserId,photo:e,desc:t,datetime:(new Date).toISOString()};s(Object(v.a)({},o,{posts:o.posts.concat(a)}))},addFollower:function(e,t){s(Object(v.a)({},o,{followers:o.followers.concat({userId:e,followerId:t})}))},removeFollower:function(e,t){s(Object(v.a)({},o,{followers:o.followers.filter((function(a){return a.userId!==e&&a.followerId!==t}))}))}})},e.children)};var I=function(e){var t=Object(n.useContext)(b),a=t.posts,o=t.users,s=t.comments,l=t.likes,i=t.currentUserId,c=t.addComment,m=t.addLike,u=t.removeLike,d=Object(g.g)().postId;function p(e){return o.find((function(t){return t.id===e.userId}))}function f(e){return s.filter((function(t){return t.postId===e.id}))}function v(e){var t=l.filter((function(t){return t.postId===e.id}));return console.log("postLikes",t),{self:t.some((function(e){return e.userId===i})),count:t.length}}return r.a.createElement("div",null,a.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return!d||e.id===d})).map((function(e){return r.a.createElement(h,{key:e.id,post:e,user:p(e),comments:f(e),likes:v(e),onComment:c,onLike:m,onUnlike:u})})))},k=(a(43),a(14)),j=a.n(k);var y=function(e){return r.a.createElement("nav",{className:j.a.navbar},r.a.createElement("div",{className:j.a.navItem},r.a.createElement(f.b,{to:"/"},r.a.createElement("img",{src:c("/assets/home.svg"),alt:"Home"}))),r.a.createElement("div",{className:j.a.navItem},r.a.createElement(f.b,{to:"/explore"},r.a.createElement("img",{src:c("/assets/explore.svg"),alt:"Explore"}))),r.a.createElement("div",{className:j.a.navItem},r.a.createElement(f.b,{to:"/newpost"},r.a.createElement("img",{src:c("/assets/newpost.svg"),alt:"New Post"}))),r.a.createElement("div",{className:j.a.navItem},r.a.createElement(f.b,{to:"/activity"},r.a.createElement("img",{src:c("/assets/activity.svg"),alt:"Activity"}))),r.a.createElement("div",{className:j.a.navItem},r.a.createElement(f.b,{to:"/profile"},r.a.createElement("img",{src:c("/assets/profile.svg"),alt:"Profile"}))))},D=a(20),O=a.n(D);var N=function(){return r.a.createElement("div",null,"Explore")},P=a(10),x=a.n(P),T=a(27),C=a(28),L=a(30),S=a(29),A=a(13),Z=a(31),U=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(L.a)(this,Object(S.a)(t).call(this,e))).handleDragEnter=a.handleDragEnter.bind(Object(A.a)(a)),a.handleDrop=a.handleDrop.bind(Object(A.a)(a)),a.handleDragOver=a.handleDragOver.bind(Object(A.a)(a)),a.handleDragLeave=a.handleDragLeave.bind(Object(A.a)(a)),a}return Object(Z.a)(t,e),Object(C.a)(t,[{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDrop&&this.props.onDrop(e)}},{key:"handleDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragTargetSaved=e.target,this.props.onDragEnter&&this.props.onDragEnter(e)}},{key:"handleDragOver",value:function(e){!1!==e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.props.onDragOver&&this.props.onDragOver(e))}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDragLeave&&this.dragTargetSaved===e.target&&this.props.onDragLeave(e)}},{key:"render",value:function(){var e=r.a.Children.only(this.props.children);return r.a.cloneElement(e,{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop})}}]),t}(n.PureComponent);var B=function(e){var t=Object(g.f)(),a=Object(n.useContext)(b).addPost,o=Object(n.useState)(!1),s=Object(u.a)(o,2),l=s[0],i=s[1],c=Object(n.useState)(""),m=Object(u.a)(c,2),d=m[0],p=m[1],f=Object(n.useState)(null),h=Object(u.a)(f,2),v=h[0],E=h[1],_=Object(n.useState)(""),w=Object(u.a)(_,2),I=w[0],k=w[1];return r.a.createElement("div",null,r.a.createElement("div",{className:x.a.photo},v?r.a.createElement("img",{src:v,alt:"New Post"}):r.a.createElement("div",{className:x.a.message},"Drop your image"),r.a.createElement(U,{onDragEnter:function(e){i(!0)},onDragLeave:function(e){i(!1)},onDrop:function(e){if(!1!==e.dataTransfer.types.includes("Files")){if(e.dataTransfer.files.length>=1){var t=e.dataTransfer.files[0];if(t.size>1e6)return;if(t.type.match(/image.*/)){var a=new FileReader;a.onloadend=function(e){E(e.target.result)},a.readAsDataURL(t)}}i(!1)}}},r.a.createElement("div",{className:[x.a.dropArea,l?x.a.dragging:null].join(" ")}))),r.a.createElement("div",{className:x.a.desc},r.a.createElement("textarea",{placeholder:"Describe...",rows:"2",value:d,onChange:function(e){p(e.target.desc)}})),r.a.createElement("div",{className:x.a.error},I),r.a.createElement("div",{className:x.a.actions},r.a.createElement("button",{onClick:function(){t.goBack()}},"Cancel"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),null!==v?(k(""),a(v,d),t.push("/")):k("You need to add a photo!")}},"Share")))};var F=function(){return r.a.createElement("div",null,"Activity")},z=a(16),J=a.n(z);var M=function(e){return r.a.createElement("div",{className:J.a.square},r.a.createElement("div",{className:J.a.content},r.a.createElement("img",{className:J.a.image,src:c(e.post.photo),alt:"Post Thumbnail"})))},Y=a(6),q=a.n(Y);var G=function(e){var t=Object(n.useContext)(b),a=t.users,o=t.posts,s=t.followers,l=t.currentUserId,i=t.addFollower,m=t.removeFollower,u=Object(g.g)().userId;u||(u=l);var d=a.find((function(e){return e.id===u})),p=o.filter((function(e){return e.userId===u})),h=s.filter((function(e){return e.userId===u})),v=s.filter((function(e){return e.followerId===u}));return r.a.createElement("div",null,r.a.createElement("header",{className:q.a.header},r.a.createElement("div",{className:q.a.photo},r.a.createElement("img",{src:c(d.photo),alt:"Profile"})),r.a.createElement("div",{className:q.a.id},r.a.createElement("span",null,u),u!==l&&r.a.createElement("div",null,h.some((function(e){return e.followerId===l}))?r.a.createElement("button",{className:q.a.unfollowBtn,onClick:function(){m(u,l)}},"Unfollow"):r.a.createElement("button",{className:q.a.followBtn,onClick:function(){i(u,l)}},"Follow")))),r.a.createElement("div",{className:q.a.user},r.a.createElement("div",{className:q.a.name},d.name),r.a.createElement("div",{className:q.a.bio},d.bio)),r.a.createElement("ul",{className:q.a.activity},r.a.createElement("li",null,r.a.createElement("span",null,o.length),r.a.createElement("br",null),"posts"),r.a.createElement("li",null,r.a.createElement("span",null,s.length),r.a.createElement("br",null),"followers"),r.a.createElement("li",null,r.a.createElement("span",null,v.length),r.a.createElement("br",null),"following")),r.a.createElement("div",{className:q.a.posts},p.map((function(e){return r.a.createElement(f.b,{key:e.id,to:"/".concat(e.id)},r.a.createElement(M,{post:e}))}))))};var H=function(){return r.a.createElement(f.a,{basename:"/social-media-kPiskorz"},r.a.createElement(w,null,r.a.createElement("div",{className:O.a.container},r.a.createElement(m,null),r.a.createElement("main",{className:O.a.content},r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/explore"},r.a.createElement(N,null)),r.a.createElement(g.a,{path:"/newpost"},r.a.createElement(B,null)),r.a.createElement(g.a,{path:"/activity"},r.a.createElement(F,null)),r.a.createElement(g.a,{path:"/profile/:userId?"},r.a.createElement(G,null)),r.a.createElement(g.a,{path:"/:postId?"},r.a.createElement(I,null)))),r.a.createElement(y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports={post:"Post_post__3Yxm2",header:"Post_header__tIsY9",user:"Post_user__2onaX",content:"Post_content__3tbId",imgContainer:"Post_imgContainer__256Yu",actions:"Post_actions__1hwPu",activity:"Post_activity__jBGpu",likes:"Post_likes__1ILGg",time:"Post_time__nAYua",comments:"Post_comments__27fpk"}},6:function(e,t,a){e.exports={header:"Profile_header__2ezYe",photo:"Profile_photo__17-zP",id:"Profile_id__2YVhI",user:"Profile_user__f4XRo",name:"Profile_name__2gL0h",activity:"Profile_activity__HQq5p",posts:"Profile_posts__9mxfB",followBtn:"Profile_followBtn__2AaXq",unfollowBtn:"Profile_unfollowBtn__3LOox"}}},[[32,1,2]]]);
//# sourceMappingURL=main.3ddc5750.chunk.js.map